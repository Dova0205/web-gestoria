---
const rawBrands = [
  { name: "Zurich", logo: "/marcas/zurich.png" },
  { name: "Allianz", logo: "/marcas/allianz.png" },
  { name: "La Holando", logo: "/marcas/la-holando.png" },
  { name: "Asociart ART", logo: "/marcas/asociart.png" },
  { name: "Mercantil Andina", logo: "/marcas/mercantil-andina.png" },
  { name: "Swiss Medical", logo: "/marcas/swiss-medical.png" },
  { name: "Barbuss", logo: "/marcas/barbuss.png" },
  { name: "ATM Seguros", logo: "/marcas/atm.png" },
  { name: "Berkley", logo: "/marcas/berkley.png" },
];

const brands = [...rawBrands, ...rawBrands, ...rawBrands, ...rawBrands, ...rawBrands, ...rawBrands];
---

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.css" />

<section id="companias" class="brands-section">
  <div class="container">
    <p class="section-title">Trabajamos con las compañías líderes</p>
    
    <div class="carousel-wrapper">
      <div class="swiper mySwiper">
        <div class="swiper-wrapper">
          {brands.map((brand) => (
            <div class="swiper-slide">
              <img src={brand.logo} alt={`Seguros ${brand.name}`} />
            </div>
          ))}
        </div>
      </div>
    </div>

  </div>
</section>

<script is:inline src="https://cdn.jsdelivr.net/npm/swiper@11/swiper-bundle.min.js"></script>

<script is:inline>
  document.addEventListener('DOMContentLoaded', function () {
    const swiper = new Swiper(".mySwiper", {
      slidesPerView: "auto", 
      spaceBetween: 0,       
      loop: true,            
      speed: 4000, 
      
      grabCursor: true,      
      freeMode: true,
      
      autoplay: {
        delay: 0,
        disableOnInteraction: false, 
        pauseOnMouseEnter: false,
      },
    });
  });
</script>

<style>
  .brands-section {
    background-color: #f8f9fa;
    padding-top: 2rem;
    padding-bottom: 3rem;
    border-bottom: 1px solid #eee;
    overflow: hidden;
  }

  .container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
    text-align: center;
  }

  .section-title {
    color: #6c757d;
    font-size: 0.85rem;
    font-weight: 600;
    text-transform: uppercase;
    letter-spacing: 2px;
    margin-bottom: 1.5rem;
    margin-top: 0;
  }

  .carousel-wrapper {
    position: relative;
    mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
    -webkit-mask-image: linear-gradient(to right, transparent, black 5%, black 95%, transparent);
  }

  .swiper {
    width: 100%;
    height: 90px;
  }

  .swiper-wrapper {
    transition-timing-function: linear !important;
  }

  .swiper-slide {
    width: 200px;
    display: flex;
    justify-content: center;
    align-items: center;
    padding: 0 15px; 
  }

  .swiper-slide img {
    display: block;
    max-width: 100%;
    max-height: 70px;
    object-fit: contain;
    mix-blend-mode: multiply;
    filter: grayscale(100%);
    opacity: 0.6;
    transition: all 0.3s ease;
  }

  img[src*="swiss-medical"], 
  img[src*="mercantil"] {
    transform: scale(1.45);
    max-height: 85px; 
  }

  /* Hover Effects */
  .swiper-slide img:hover {
    filter: grayscale(0%);
    opacity: 1;
  }
  
  img[src*="swiss-medical"]:hover, 
  img[src*="mercantil"]:hover {
    transform: scale(1.55);
  }
  
  .swiper-slide img:not([src*="swiss-medical"]):not([src*="mercantil"]):hover {
    transform: scale(1.1);
  }
</style>